<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarBook</title>

<!--====================  this is style css link  ===================== -->
<link rel="stylesheet" href="style.css"></head>

<!--====================  this is website icon   ===================== -->
<link rel="icon" href="./img/logo.jpeg">

 <!-- ===========     font awesome link        ==================-->
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />


 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

 <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- ===========    aos link        ==================-->

 
 <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">



<body onload="fetchData()">

<main>

    <!--====================  navbar cording start from here  ===================== -->

    <input type="checkbox" id="bar-ss">
     <label for="bar-ss" class="lab"> <i class="fa-solid fa-bars"></i></label> 
     <header id="navbar">
            <nav>
                  
                <ul>  
                    <h1 data-aos="fade-down"
                    data-aos-duration="2000" >Car<span>Book</span></h1>
                    <img src="img/about.png" alt="" class="nav-img" data-aos="fade-right"
                    data-aos-anchor="#example-anchor"
                    data-aos-offset="400"
                    data-aos-duration="2000">
                    <li>
                        <a href="./index.html">Home</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <li>
                        <a href="offer.html">Offer</a>
                    </li>
                    <li>
                        <a href="service.html">Service</a>
                    </li>
                 
                <span>
                    <button class="cart-button"> <i class="fa-solid fa-cart-shopping"><span class="cart1">0</span></i></button>
               
                   <a href="signup.html"><button class="signup">Sign up</button></a>

                   <a href="booking.html"><button class="signup">BOOKing</button></a>

                
                </span>

                <li>
                    <a href="profile.html"><i class="fa-regular fa-user"></i> </a>
                </li>
                </ul>
              
            </nav>
        </header>

            <!--====================  navbar cording end from here   ===================== -->

   <main>

    <!--====================  home  cording start from here   ===================== -->



    <section id="booking" style="padding-top: 80px;">

     


        <div class="book-div">
            
            <form action="">

            <div class="book-div1">


                 <h2>MAKE YOUR TRIP</h2>

                 <h4>PICK-UP LOCATION</h4>
                 <input type="text" id="pick-loc">

                 
                 <h4>DROP-OFF LOCATION</h4>
                 <input type="text" id="drop-loc">

                 
                 <h4>PIC-UP DATE</h4>
                 <input type="date" id="pick-date">

                 
                 <h4>DROP-OFF DATE</h4>
                 <input type="date" id="drop-date">

                 
                 <h4>PIC-UP TIME</h4>
                 <input type="time" id="pick-time">

                 <input type="submit" onclick="return ins()">
                </div>
                
          <a href="booking.html">Tap to Show Your Bookings</a> 
            </form>

   

           
        </div>

                   
     <table border="4" cellspacing="20px" cellpadding="20px">
         
        <thead>
            <tr>
                <th>PICK-UP LOCATION</th>
                <th>DROP-OFF LOCATION</th>
                <th>PIC-UP DATE</th>
                <th>DROP-OFF DATE</th>
                <th>PIC-UP TIME</th>
                <th>Delete</th>
                <th>UPDATE</th>
            </tr>
        </thead>
    
          <tbody id="display">
              
          </tbody>
    
    
          </table>

          <div id="updateshow">

          </div>

          <form >

            Enter Carname: <input type="text" id="name"> <br> <br>
            Enter Price: <input type="number" id="price"> <br> <br>
            Enter per days <select name="" id="days"> <br> <br>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>  <br> <br>
    
            Enter Color: <input type="text" id="color"> <br> <br>
            Enter Brand: <input type="text" id="brand"> <br> <br>
            <input type="submit" onclick="return ins()">
    
          </form>
  



    </section>

        <!--====================  Book  cording start from here   ===================== -->
          





</main>



 <!--==================== footer  cording start from here   ===================== -->

        
 <footer id="footer">

    <section>

    <div class="footer-div">

        <ul>
            <h2 class="footer-carbook" data-aos="fade-down"
            data-aos-duration="3000" >CAR<span>BOOK</span></h2>
            <p>Far far away, behind the word mountains, 
                <br> far from the countries Vokalia and Consonantia, 
                <br> there live the blind texts...</p>

             <br>
                    <p></i>&nbsp;  &nbsp; &nbsp; &nbsp;Follow Us On...</p> <br>
                    &nbsp;  &nbsp; &nbsp;  <a href="https://www.instagram.com/accounts/login"> <i class="fa-brands fa-instagram"  data-aos="fade-right"></i> </a> 
                    &nbsp;   &nbsp; &nbsp; <a href="https://www.facebook.com/"> <i class="fa-brands fa-facebook" data-aos="flip-right"
                        data-aos-easing="ease-out-cubic"
                        data-aos-duration="2000"></i> </a> 
                    &nbsp;  &nbsp; &nbsp;   <a href="https://web.telegram.org/index.html"> <i class="fa-brands fa-telegram"  data-aos="flip-left"
                        data-aos-easing="ease-out-cubic"
                        data-aos-duration="2000"></i></a> 
                    &nbsp;  &nbsp; &nbsp; &nbsp;   <a href="https://x.com/i/flow/login"><i class="fa-brands fa-square-twitter" data-aos="fade-left"></i></a>
                
        </ul>

        <ul>
            <h2 >Information</h2>  

           <div class="footer-a">
               <a href="./index.html">Home</a>
               <a href="about.html">About</a> 
            <a href="offer.html">Offer</a>
            <a href="service.html">Service</a>
            <a href="profile.html">Profile</a>
        </div>
           

        </ul>


        <ul>


            <h2 >Customer Support</h2>  

            <div class="footer-a">
             <a href="">FAQ
            </a> 
            
             <a href="">Payment Option
            </a>
             <a href="">Booking Tips
            </a>
             <a href="">How it works
            </a>
             <a href="">Contact Us</a>
         </div>
        </ul>

        <ul>
            <h2 >Have a Questions?</h2>  

           <div class="footer-a">
            <a href="">	203 Fake St. Mountain View, <br> San Francisco, California, USA</a> 
            <a href="">	+2 392 3929 210</a>
            <a href="">	info@yourdomain.com</a>
           
        </div>

        </ul>

    </div>

    </section>


</footer>

<!--==================== footer  cording end from here   ===================== -->

<!-- <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.js"></script> -->
<!-- </div> -->

<!--====================  this is swiper link   ===================== -->

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!--====================  this is swiper link   ===================== -->

<!--====================  AOS link   ===================== -->

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>


<script>
AOS.init();
</script>

<!--====================  AOS link   ===================== -->



<!--====================  this is js  link   ===================== -->
<script src="booking.js"></script>

<script src="script.js"></script>

<!--====================  this is js link   ===================== -->


</body>
</html>



let fetchData= async ()=>{

    try{
    let url='http://localhost:3000/doctor'

    let res= await fetch(url,{method:"GET"})
    let data= await res.json()
    console.log(data);

    let show=document.querySelector("#display")

    data.map((e)=>{
        
        show.innerHTML+=`
        
        <tr>
          <td> ${e.name}  </td>
          <td> ${e.age}  </td>
          <td> ${e.number}  </td>
          <td> ${e.date}  </td>
          <td> ${e.problem}  </td>
          <td> ${e.price}  </td>      
           <td onclick="condel('${e.id}')"> Cancel  </td>     
           <td onclick="formfill('${e.id}')"> Update  </td>     
        
        `
    })
}
catch(error){
    console.log(error);
    
}

}

let condel=(id)=>{

    Swal.fire({
        title: "Are you sure?",
        text: "You won't be able to revert this!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Yes, delete it!"
      }).then((result) => {
        if (result.isConfirmed) {
            del(id)
          Swal.fire({
            title: "Deleted!",
            text: "Your file has been deleted.",
            icon: "success"
          });
        }
      });

}


let del=(id)=>{

    let url=http://localhost:3000/doctor/${id}

    fetch(url,{method:"DELETE"})


}


let ins=()=>{
    let inpname=document.querySelector("#name").value 
    let inpage=document.querySelector("#age").value 
    let inpnum=document.querySelector("#number").value 
    let inpdate=document.querySelector("#date").value 
    let inpprob=document.querySelector("#problem").value 

try{
    let url='http://localhost:3000/doctor'
      fetch(url,
        {method:"POST",
         
        headers:{
            "Content-Type":"application/json",
        },

        body:JSON.stringify(
            {
                "name":inpname,
                "age":inpage,
                "number":inpnum,
                "date":inpdate,
                "problem":inpprob,
                "price":250

            }
        )
        })
        
    }
    catch(error){
        console.log(error);
        
    }

    location.href="crud2.html"
    return false;

}


 let formfill=async(id)=>{

      let url=http://localhost:3000/doctor/${id}
     let res=await fetch(url)
     let data=await res.json()
    
     let formdata=`
       Enter Name <input type="text" value="${data.name}" id="updatename"><br>
       Enter Age <input type="text" value="${data.age}" id="updateage"><br>
       Enter Number <input type="text" value="${data.number}" id="updatenum"><br>
       Enter Date <input type="date" value="${data.date}" id="updatedate"><br>
         <select  id="updateprob">
                <option value="fever">Fever</option>
                <option value="cold">Cold</option>
                <option value="cough">Cough</option>
                <option value="pain">Pain</option>
            </select>
        Price <input type="text" value="${data.price}" readonly>
        <input type="submit" onclick="finalupdate('${data.id}')">
     
     `

     document.querySelector("#updateshow").innerHTML=formdata



 }


 let finalupdate=(id)=>{

    let updatename=document.querySelector("#updatename").value;
    let updateage=document.querySelector("#updateage").value;
    let updatenum=document.querySelector("#updatenum").value;
    let updatedate=document.querySelector("#updatedate").value;
    let updateprob=document.querySelector("#updateprob").value;
    // let updateprice=document.querySelector("#updateprice").value;


    
try{
    let url=http://localhost:3000/doctor/${id}
      fetch(url,
        {method:"PUT",
         
        headers:{
            "Content-Type":"application/json",
        },

        body:JSON.stringify(
            {
                "name":updatename,
                "age":updateage,
                "number":updatenum,
                "date":updatedate,
                "problem":updateprob,
                "price":250

            }
        )
        })
        
    }
    catch(error){
        console.log(error);
        
    }




 }




VANTA.WAVES({
    el: "#wave",
    mouseControls: true,
    touchControls: true,
    gyroControls: false,
    minHeight: 200.00,
    minWidth: 200.00,
    scale: 1.00,
    scaleMobile: 1.00
  })